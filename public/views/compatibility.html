<div id="compatibility" ng-cloak>

	<table id="compatibilities" class="table table-bordered" style="font-size: 0.8em">
		<thead>
			<tr>
				<td colspan="2" rowspan="2" border="0"></td>
				<td ng-repeat="parameter in parameters | orderBy:'id'" colspan="{{ parameter.attributes.length}}">{{ parameter.name }}</td>
			</tr>
			<tr>
				<!-- render all attributes that exist -->
				<td ng-repeat="attribute in getAllAttributes() | orderBy:'id'">{{Â attribute.name }}</td>
			</tr>
		</thead>
		<tbody>
			<tr ng-if="$index >= getOffsets()[1]" ng-repeat="y in getAllAttributes() | orderBy: 'id'">
				<!-- only show this td if the $index is a "new" parameter -->
				<td data-index="{{ $index }}" ng-if="getOffsets().indexOf($index) >= 0"
					rowspan="{{ getParameterByAttribute(y.id).attributes.length }}">
					{{ getParameterByAttribute(y.id).name }}
				</td>

				<td class="warning">{{ y.name}}</td>
				
				<td ng-class="getParameterByAttribute(y.id).id === getParameterByAttribute(x.id).id ? 'active' : ''"
					data-ids="[{{ x.id }}, {{ y.id}}]" ng-repeat="x in getAllAttributes() | orderBy: 'id'">
					<span ng-if="getParameterByAttribute(y.id).id !== getParameterByAttribute(x.id).id">
						{{ y.name }} - {{ x.name }}
					</span>
					<!--<select>
						<option>{{y.name}} - {{x.name}}</option>
						<option ng-selected="addCompatibility([x.id, y.id], 5)">Very Good</option>
						<option ng-selected="addCompatibility([x.id, y.id], 3)">OK</option>
						<option ng-selected="addCompatibility([x.id, y.id], 1)">Bad</option>
					</select>-->
				</td>
			</tr>

		</tbody>
	</table>

</div>