<div id="definition" class="board">
	<div class="parameter" ng-repeat="parameter in parameters | orderBy:'id'">
		
		<h5>{{ parameter.name }}</h5>

		<div ng-click="addingAttribute=true" class="add">
			<input
				type="text"
				class="text"
				ng-blur="addAttribute(parameter); addingAttribute = false;"
				ng-model="parameter.attribute.name"
				ng-show="addingAttribute"
				autofocus="addingAttribute"
				ng-enter="addAttribute(parameter)"
				>
			<a ng-hide="addingAttribute">Add Attribute</a>	
		</div>
		<ul class="attributes">
			<li ng-repeat="attr in parameter.attributes | orderBy:'id'">
				<div>{{ attr.name }}</div>
			</li>
		</ul>
		
		<div class="options">
			<span data-toggle="dropdown" class="glyphicon glyphicon-collapse-down"></span>
			<ul class="dropdown-menu" role="menu">
				<!-- <li><a href="#">Rename</a></li> -->
				<li><a href="javascript:;" ng-click="removeParameter(parameter, $index)">Remove</a></li>
				<!--<li><a href="#">Something else here</a></li>
				<li class="divider"></li>
				<li><a href="#">Separated link</a></li>-->
			</ul>
		</div>
	</div>
	
	<div class="parameter parameter-add">
		<input
			type="text"
			class="text"
			autofocus="addingParameter"
			ng-model="parameter.name" 
			ng-show="addingParameter"
			ng-enter="addParameter(); addingParameter = false;">
		<h5 ng-hide="addingParameter" ng-click="addingParameter=true">
			<span class="glyphicon glyphicon-plus-sign"></span> Add a Parameter
		</h5>
	</div>
</div>